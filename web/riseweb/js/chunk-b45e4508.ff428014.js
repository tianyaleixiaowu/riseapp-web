(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b45e4508"],{"00ea":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"statistic"},[i("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),i("div",{staticClass:"title"},[t._v("问卷名称："+t._s(t.name))]),i("div",{staticClass:"content"},t._l(t.data,function(e,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),0==e.type?i("div",{staticClass:"myChart",style:{width:"300px",height:"300px"},attrs:{"data-index":n}}):t._e(),1==e.type?i("div",{staticClass:"list"},t._l(e.answerList,function(e,n){return i("div",{key:n,staticClass:"list-item"},[t._v(t._s(e.userName)+": "+t._s(e.content))])}),0):t._e()])}),0)],1)},a=[],s=i("5176"),o=i.n(s),c=(i("ac6a"),i("7f7f"),i("386d"),i("cadf"),i("551c"),i("097d"),i("3079")),r=i("b383"),d=i.n(r),u=i("3ebc"),l={leftMenu:[{id:"1",name:"校区：",placeholder:"请选择校区",module:"schoolId",type:"select"},{id:"2",name:"班级：",placeholder:"请选择班级",module:"classId",type:"select"},{id:"3",name:"带班老师：",placeholder:"请选择带班老师",module:"teacherAccount",type:"select"}],rightMenu:[{id:"r1",name:"查询"},{id:"r3",name:"取消"}]},h={name:"statistic",data:function(){return{dataOption:l,loading:!1,id:"",type:"",name:"",data:""}},components:{Options:c["a"]},mounted:function(){this.init(),this.search(),this.dropInit()},methods:{dropInit:function(){var t=this;Object(u["g"])(function(e){var i=t.dataOption.leftMenu;i=i.map(function(t){return"schoolId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=i}),Object(u["h"])(function(e){var i=t.dataOption.leftMenu;i=i.map(function(t){return"teacherAccount"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=i})},init:function(){var t=this.$route.query,e=t.type,i=t.id,n=t.name;this.type=e,this.id=i,this.name=n},optchange:function(t){return console.log(t.id+"--id被单击了"),"r1"===t.id?this.search():"r3"===t.id?this.btnClick():void 0},echartsInit:function(){var t=this,e=document.querySelectorAll(".myChart");this.data.forEach(function(i,n){if(0==i.type){i.answerList.length;var a=[i.item1,i.item2,i.item3,i.item4,i.item5],s=[0,0,0,0,0];i.answerList.forEach(function(t){t.item1&&s[0]++,t.item2&&s[1]++,t.item3&&s[2]++,t.item4&&s[3]++,t.item5&&s[4]++});var o=t.echarts.init(e[n]),c=[];a.forEach(function(t,e){if(t){var i={value:s[e],name:t};c.push(i)}}),o.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},series:[{name:i.title,type:"pie",radius:"55%",center:["50%","60%"],data:c}]})}i.type})},search:function(){var t=this;this.loading=!0;var e=this.$refs.goodsOpt.getData(),i=o()({},e),n=d.a.stringify(i||{});this.api.get("/survey/".concat(this.id,"/answer?").concat(n)).then(function(e){t.loading=!1,t.data=e.data.questionList,setTimeout(function(){t.echartsInit(e)},20)}).catch(function(e){console.log(e),t.loading=!1,t.$message(e.message)})},btnClick:function(){this.$router.go(-1)},dataInit:function(){}}},f=h,p=(i("4022"),i("2877")),m=Object(p["a"])(f,n,a,!1,null,"f83641fc",null);m.options.__file="statistic.vue";e["default"]=m.exports},4022:function(t,e,i){"use strict";var n=i("897a"),a=i.n(n);a.a},"897a":function(t,e,i){}}]);
//# sourceMappingURL=chunk-b45e4508.ff428014.js.map