(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23506297"],{"11a33":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"goods"},[e("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),e("tables",{attrs:{data:t.dataTable,list:t.tableList},on:{change:t.tabchange}}),e("div",{staticClass:"demonstration-box"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageParams.size,layout:"total, prev, pager, next",total:t.pageParams.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage=a}}})],1),e("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("span",[t._v(t._s(t.dialogContent))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确 定")])],1)])],1)},n=[],o=e("5176"),s=e.n(o),r=(e("386d"),e("f499")),l=e.n(r),d=(e("cadf"),e("551c"),e("097d"),e("3079")),c=e("9404"),u=e("b383"),p=e.n(u),g=e("3ebc"),h=e("9cf8"),f={leftMenu:[{id:"1",name:"校区：",placeholder:"请选择校区名称",module:"schoolId",type:"select"},{id:"2",name:"班级：",placeholder:"请选择班级名称",module:"classId",type:"select"}],rightMenu:[{id:"r1",name:"查询"}]},b={table:[{label:"校区",prop:"schoolName"},{label:"班级",prop:"className"},{label:"带班老师",prop:"teacherName"},{label:"积分",prop:"score"},{label:"备注",prop:"remark"}],edit:[{name:"拒绝",id:"t1"}]},m=["确认拒绝该审批?"],v={name:"integral",mixins:[h["a"]],data:function(){return{dataOption:f,dataTable:JSON.parse(l()(b)),dialogVisible:!1,dialogContent:m[0],tableList:[],loading:!1,currentPage:1,id:"",type:""}},components:{Options:d["a"],Tables:c["a"]},mounted:function(){this.init(),this.search(),this.dropInit()},methods:{init:function(){var t=this.$route.query,a=t.type,e=t.id;if(this.id=e,this.type=a,"detail"===a)return this.dataTable.edit=[];this.dataTable=b},dropInit:function(){var t=this;Object(g["g"])(function(a){var e=t.dataOption.leftMenu;e=e.map(function(t){return"schoolId"===t.module&&(t.options=a),t}),t.dataOption.leftMenu=e})},optchange:function(t){return console.log(t.id+"--id被单击了"),"r1"===t.id?this.search():"r2"===t.id?this.$router.push("/studentAdd?type=new"):void 0},tabchange:function(t){if(console.log(t.id+"--id被单击了"),this.id=t.data.id,"t1"===t.id)return this.dialogVisible=!0},sure:function(){var t=this;this.api.delete("/score/".concat(this.id)).then(function(a){t.loading=!1,t.search(),t.$message(a.data)}).catch(function(a){console.log(a),t.$message(a.data.message)}),this.dialogVisible=!1},search:function(){var t=this,a=this.$refs.goodsOpt.getData(),e={size:20,page:this.currentPage-1},i=s()({},a,e);"detail"===this.type&&(i=s()({},n,{userId:this.id}));var n=p.a.stringify(i||{});this.loading=!0,this.api.get("/score?".concat(n)).then(function(a){t.loading=!1,t.dataInit(a.data),t.setPage(a.data),t.tableList=a.data.list}).catch(function(a){console.log(a),t.$message(a.data.message)})},dataInit:function(t){}}},y=v,O=(e("3532"),e("2877")),C=Object(O["a"])(y,i,n,!1,null,"250a9f41",null);C.options.__file="integral.vue";a["default"]=C.exports},3532:function(t,a,e){"use strict";var i=e("8165"),n=e.n(i);n.a},8165:function(t,a,e){},a21f:function(t,a,e){var i=e("584a"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},f499:function(t,a,e){t.exports=e("a21f")}}]);
//# sourceMappingURL=chunk-23506297.26773cec.js.map