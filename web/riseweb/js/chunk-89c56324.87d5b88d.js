(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89c56324"],{"28a5":function(t,e,n){"use strict";var i=n("aae3"),a=n("cb7c"),c=n("ebd6"),u=n("0390"),r=n("9def"),o=n("5f1b"),s=n("520a"),d=Math.min,l=[].push,p="split",f="length",h="lastIndex",v=!!function(){try{return new RegExp("x","y")}catch(t){}}();n("214f")("split",2,function(t,e,n,y){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[f]||2!="ab"[p](/(?:ab)*/)[f]||4!="."[p](/(.?)(.?)/)[f]||"."[p](/()()/)[f]>1||""[p](/.?/)[f]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(a,t,e);var c,u,r,o=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,d+"g");while(c=s.call(y,a)){if(u=y[h],u>p&&(o.push(a.slice(p,c.index)),c[f]>1&&c.index<a[f]&&l.apply(o,c.slice(1)),r=c[0][f],p=u,o[f]>=v))break;y[h]===c.index&&y[h]++}return p===a[f]?!r&&y.test("")||o.push(""):o.push(a.slice(p)),o[f]>v?o.slice(0,v):o}:"0"[p](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var a=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,a,i):m.call(String(a),n,i)},function(t,e){var i=y(m,t,this,e,m!==n);if(i.done)return i.value;var s=a(t),l=String(this),p=c(s,RegExp),f=s.unicode,h=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(v?"y":"g"),g=new p(v?s:"^(?:"+s.source+")",h),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===l.length)return null===o(g,l)?[l]:[];var C=0,x=0,V=[];while(x<l.length){g.lastIndex=v?x:0;var k,_=o(g,v?l:l.slice(x));if(null===_||(k=d(r(g.lastIndex+(v?0:x)),l.length))===C)x=u(l,x,f);else{if(V.push(l.slice(C,x)),V.length===b)return V;for(var K=1;K<=_.length-1;K++)if(V.push(_[K]),V.length===b)return V;x=C=k}}return V.push(l.slice(C)),V}]})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3ebc":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"g",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"d",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return d}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return p});n("7f7f"),n("2ef0");var i=n("7c15");function a(t,e,n){return i["a"].get("/role").then(function(i){var a=i.data.map(function(t){var e={id:t.id,dKey:t.id,dValue:t.sign};return e});if("filter"!=e&&a.unshift({id:"",dKey:"",dValue:"全部"}),"less"===n){var c=["超级管理员","学员"];a=a.filter(function(t){return-1==c.indexOf(t.dValue)})}return t&&t(a),i.data}).catch(function(t){console.log(t)}),[]}function c(t,e){i["a"].get("/school").then(function(n){var i=n.data.map(function(t){var e={id:t.id,dKey:t.id,dValue:t.name};return e});return"filter"!=e&&i.unshift({id:"",dKey:"",dValue:"全部"}),t&&t(i),n.data}).catch(function(t){console.log(t)})}function u(t,e){i["a"].get("/class").then(function(n){var i=n.data.map(function(t){var e={id:t.id,dKey:t.id,dValue:t.name};return e});return"filter"!=e&&i.unshift({id:"",dKey:"",dValue:"全部"}),t&&t(i),n.data}).catch(function(t){console.log(t)})}var r=[{id:-1,dKey:"",dValue:"全部"},{id:0,dKey:0,dValue:"未发货"},{id:1,dKey:1,dValue:"已发货"}],o=[{id:-1,dKey:"",dValue:"全部"},{id:1,dKey:1,dValue:"音频"},{id:2,dKey:2,dValue:"视频"}],s=[{id:-1,dKey:"",dValue:"全部"},{id:0,dKey:0,dValue:"已邀请"},{id:1,dKey:1,dValue:"未邀请"}],d=[{id:-1,dKey:"",dValue:"全部"},{id:0,dKey:0,dValue:"已成交"},{id:1,dKey:1,dValue:"未成交"}],l=[{id:0,dKey:0,dValue:"选择题"},{id:1,dKey:1,dValue:"问答题"}],p=[{id:0,dKey:"A",dValue:"A"},{id:1,dKey:"B",dValue:"B"},{id:2,dKey:"C",dValue:"C"},{id:3,dKey:"D",dValue:"D"},{id:4,dKey:"E",dValue:"E"},{id:5,dKey:"F",dValue:"F"},{id:6,dKey:"G",dValue:"G"},{id:7,dKey:"H",dValue:"H"},{id:8,dKey:"I",dValue:"I"}]},"3f8e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"rise x add question"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v(t._s(t.title))]),n("div",{staticClass:"item"},[n("span",[t._v("问卷名称：")]),n("el-input",{attrs:{placeholder:"请输入问卷名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._l(t.headerBtn,function(e,i){return n("div",{key:i,staticClass:"item"},[n("button",{staticClass:"el-button btn el-button--primary",attrs:{type:"button"},on:{click:function(e){t.headerClick(i)}}},[n("span",[t._v(t._s(e))])])])})],2),n("div",{staticClass:"content"},[n("div",{staticClass:"top"},t._l(t.data,function(e,i){return n("div",{key:i,staticClass:"item"},[n("div",{staticClass:"item-name"},[n("span",[t._v(t._s(e.name))]),n("span",{staticClass:"red",on:{click:function(n){t.themeDel(e,i)}}},[t._v("删除")])]),n("div",{staticClass:"item-opt"},t._l(e.options,function(e,i){return n("div",{key:i},[t._v(t._s(e.type)+":"+t._s(e.content))])}),0)])}),0),n("div",{staticClass:"line"}),n("div",{staticClass:"article"},[n("div",{staticClass:"left"},[n("div",{staticClass:"item"},[n("span",[t._v("题目类型：")]),n("el-select",{attrs:{placeholder:"请选择题目类型"},on:{change:t.selectChange},model:{value:t.product.type,callback:function(e){t.$set(t.product,"type",e)},expression:"product.type"}},t._l(t.topicList,function(t){return n("el-option",{key:t.id,attrs:{label:t.dValue,value:t.id}})}),1)],1),n("div",{staticClass:"item"},[n("span",[t._v("题目名称：")]),n("el-input",{attrs:{placeholder:"请输入题目名称"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}),t._l(t.product.options,function(e,i){return n("div",{key:i,staticClass:"item-opt"},[n("span",[t._v(t._s(e.type)+":"+t._s(e.content))]),n("span",{staticClass:"red",on:{click:function(n){t.themeOptDel(e,i)}}},[t._v("删除")])])})],2),0==t.product.type?n("div",{staticClass:"item"},[n("span",[t._v("选项：")]),n("el-select",{attrs:{placeholder:"请选择选项"},model:{value:t.productOpt.type,callback:function(e){t.$set(t.productOpt,"type",e)},expression:"productOpt.type"}},t._l(t.topicOption,function(t){return n("el-option",{key:t.id,attrs:{label:t.dValue,value:t.dValue}})}),1),n("el-input",{attrs:{placeholder:"请输入选项内容"},model:{value:t.productOpt.content,callback:function(e){t.$set(t.productOpt,"content",e)},expression:"productOpt.content"}}),n("button",{staticClass:"add el-button btn el-button--primary",attrs:{type:"button"},on:{click:function(e){t.themeOptAdd()}}},[n("span",[t._v("添加")])])],1):t._e(),n("div",{staticClass:"item"},[n("span"),n("button",{staticClass:"add el-button btn el-button--primary",attrs:{type:"button"},on:{click:function(e){t.themeClear()}}},[n("span",[t._v("清空")])]),n("button",{staticClass:"add el-button btn el-button--primary",attrs:{type:"button"},on:{click:function(e){t.themeClick()}}},[n("span",[t._v("出题")])])])])])])])])},a=[],c=(n("7f7f"),n("5176")),u=n.n(c),r=(n("cadf"),n("551c"),n("097d"),n("b383"),n("fc37"),n("3ebc")),o=["新建","编辑"],s=["取消","保存"],d=["请补全选项内容","请补全问卷内容","请勿重复添加"],l={name:"add",data:function(){return{title:"",id:"",headerBtn:s,topicList:r["h"],topicOption:r["i"],typeOption:"",loading:!1,data:[],name:"",product:{type:"",name:"",options:[]},productOpt:{type:"",content:""}}},mounted:function(){this.dataInit()},methods:{dataInit:function(){var t=this.$route.query,e=t.type,n=t.id;if("edit"!==e)return this.title=o[0];this.title=o[1],this.id=n,this.ajax()},headerClick:function(t){0==t&&this.$router.go(-1),1==t&&this.save()},save:function(){},themeOptAdd:function(){var t=u()({},this.productOpt),e=[].concat(this.product.options),n=e.filter(function(e){return e.type===t.type});return t.type&&t.content||0==t.type?n.length>0?this.$message(d[2]):(e.push(t),void(this.product.options=e)):this.$message(d[0])},themeOptDel:function(t,e){var n=[].concat(this.product.options),i=n.filter(function(e){return t.type!==e.type});this.product.options=i},themeClear:function(){this.product={type:"",name:"",options:[]},this.productOpt={type:"",content:""}},themeClick:function(){var t=u()({},this.product),e=[].concat(this.data),n=e.filter(function(e){return e.name===t.name});return t.type&&t.name||0==t.type?n.length>0?this.$message(d[2]):(e.push(t),void(this.data=e)):this.$message(d[1])},themeDel:function(t,e){var n=[].concat(this.data),i=n.filter(function(e){return t.name!==e.name});this.data=i},selectChange:function(t){this.themeClear(),this.product.type=t},ajax:function(){}}},p=l,f=(n("ebc3"),n("2877")),h=Object(f["a"])(p,i,a,!1,null,"adc75dd2",null);h.options.__file="add.vue";e["default"]=h.exports},5176:function(t,e,n){t.exports=n("51b6")},"5d6b":function(t,e,n){var i=n("e53d").parseInt,a=n("a1ce").trim,c=n("e692"),u=/^[-+]?0[xX]/;t.exports=8!==i(c+"08")||22!==i(c+"0x16")?function(t,e){var n=a(String(t),3);return i(n,e>>>0||(u.test(n)?16:10))}:i},"6b54":function(t,e,n){"use strict";n("3846");var i=n("cb7c"),a=n("0bfb"),c=n("9e1e"),u="toString",r=/./[u],o=function(t){n("2aba")(RegExp.prototype,u,t,!0)};n("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?o(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!c&&t instanceof RegExp?a.call(t):void 0)}):r.name!=u&&o(function(){return r.call(this)})},7445:function(t,e,n){var i=n("63b6"),a=n("5d6b");i(i.G+i.F*(parseInt!=a),{parseInt:a})},"9a51":function(t,e,n){},a1ce:function(t,e,n){var i=n("63b6"),a=n("25eb"),c=n("294c"),u=n("e692"),r="["+u+"]",o="​",s=RegExp("^"+r+r+"*"),d=RegExp(r+r+"*$"),l=function(t,e,n){var a={},r=c(function(){return!!u[t]()||o[t]()!=o}),s=a[t]=r?e(p):u[t];n&&(a[n]=s),i(i.P+i.F*r,"String",a)},p=l.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(d,"")),t};t.exports=l},aae3:function(t,e,n){var i=n("d3f4"),a=n("2d95"),c=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==a(t))}},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},ebc3:function(t,e,n){"use strict";var i=n("9a51"),a=n.n(i);a.a},fc37:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});n("7f7f"),n("6b54"),n("28a5");var i=n("e814"),a=n.n(i),c=(n("2ef0"),n("bc3a")),u=n.n(c);function r(t){if(!t)return"";var e=new Date(t).getFullYear(),n=new Date(t).getMonth()+1,i=new Date(t).getDate();return n<10&&(n="0"+a()(n)),i<10&&(i="0"+a()(i)),"".concat(e,"-").concat(n,"-").concat(i)}function o(t){if(!t)return"";var e=new Date(t).getTime();return"".concat(e)}function s(t,e){if(t){var n=t.target.files[0];if(n){var i=new FormData;i.append("chunk","0"),i.append("chunks","1"),i.append("file",n,n.name);var a={headers:{"Content-Type":"multipart/form-data"}};u.a.get("/login/qiniu/token").then(function(t){var n=t.data.data;i.append("token",n),d(i,a,e)})}}}function d(t,e,n){u.a.post("http://upload-z1.qiniup.com/",t,e).then(function(t){var e={message:"ok",url:"http://qiniu.tianyalei.com/".concat(t.data.key)};n&&n(e)}).catch(function(t){console.log(t,"pppp")})}}}]);
//# sourceMappingURL=chunk-89c56324.87d5b88d.js.map