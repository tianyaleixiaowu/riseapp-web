(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62cf2751"],{"040d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),a("tables",{attrs:{data:t.dataTable,list:t.tableList},on:{change:t.tabchange}}),a("div",{staticClass:"demonstration-box"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageParams.size,layout:"total, prev, pager, next",total:t.pageParams.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v(t._s(t.dialogContent))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确 定")])],1)])],1)},n=[],o=a("5176"),s=a.n(o),d=(a("386d"),a("3079")),l=a("9404"),c=a("b383"),r=a.n(c),u=a("9cf8"),h=a("3ebc"),p={leftMenu:[{id:"1",name:"校区：",placeholder:"请选择校区",module:"schoolId",type:"select"},{id:"2",name:"班级：",placeholder:"请选择班级",module:"classId",type:"select"},{id:"3",name:"带班老师：",placeholder:"请选择带班老师",module:"teacherAccount",type:"select"},{id:"4",name:"学员姓名：",placeholder:"请输入学员姓名",module:"name"},{id:"5",name:"学员账号：",placeholder:"请输入学员账号",module:"mobile"}],rightMenu:[{id:"r1",name:"查询"},{id:"r2",name:"新增"}]},g={table:[{label:"校区",prop:"schoolName"},{label:"班级",prop:"className"},{label:"带班老师",prop:"teacherName"},{label:"学员姓名",prop:"name"},{label:"学员账号",prop:"account"}],edit:[{name:"积分明细",id:"t3"},{name:"编辑",id:"t1"},{name:"删除",id:"t2"}]},m=["确认删除该条信息?"],b={name:"studentList",mixins:[u["a"]],data:function(){return{dataOption:p,dataTable:g,dialogVisible:!1,dialogContent:m[0],tableList:[],loading:!1,currentPage:1,id:""}},components:{Options:d["a"],Tables:l["a"]},mounted:function(){this.search(),this.dropInit()},activated:function(){this.search()},methods:{dropInit:function(){var t=this;Object(h["h"])(function(e){var a=t.dataOption.leftMenu;a=a.map(function(t){return"schoolId"===t.module&&(t.options=e),t}),t.dataOption.leftMenu=a})},optchange:function(t){return console.log(t.id+"--id被单击了"),"r1"===t.id?this.search():"r2"===t.id?this.$router.push("/student/add?type=new"):void 0},tabchange:function(t){return console.log(t.id+"--id被单击了"),this.id=t.data.id,"t1"===t.id?this.$router.push("/student/add?type=edit&id=".concat(this.id)):"t2"===t.id?this.dialogVisible=!0:"t3"===t.id?this.$router.push("/student/detail?type=detail&id=".concat(this.id)):void 0},sure:function(){var t=this;this.api.delete("/user/".concat(this.id)).then(function(e){t.loading=!1,t.search(),t.$message(e.data)}).catch(function(e){console.log(e),t.$message(e.data.message)}),this.dialogVisible=!1},search:function(){var t=this,e=this.$refs.goodsOpt.getData(),a={size:20,page:this.currentPage-1},i=s()({},e,a,{roleId:"2"}),n=r.a.stringify(i||{});this.loading=!0,this.api.get("/user?".concat(n)).then(function(e){t.loading=!1,t.dataInit(e.data),t.setPage(e.data),t.tableList=e.data.list}).catch(function(e){console.log(e),t.$message(e.data.message)})},dataInit:function(t){var e=t.list.map(function(t){t.beginTime&&t.endTime&&(t.time=ScondDay(t.beginTime)+" 至 "+ScondDay(t.endTime))});this.tableList=e}}},f=b,v=(a("85dd"),a("2877")),y=Object(v["a"])(f,i,n,!1,null,"1b8aa6ae",null);y.options.__file="list.vue";e["default"]=y.exports},"4c4b":function(t,e,a){},"85dd":function(t,e,a){"use strict";var i=a("4c4b"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-62cf2751.bd0ecbc7.js.map