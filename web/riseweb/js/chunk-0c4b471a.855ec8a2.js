(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c4b471a"],{"00ea":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"statistic"},[e("options",{ref:"goodsOpt",attrs:{data:t.dataOption},on:{change:t.optchange}}),e("div",{staticClass:"title"},[t._v("问卷名称："+t._s(t.name))]),e("div",{staticClass:"content"},t._l(t.data,function(i,n){return e("div",{key:n,staticClass:"item"},[e("div",{staticClass:"title"},[t._v(t._s(i.title))]),0==i.type?e("div",{staticClass:"myChart",style:{width:"300px",height:"300px"},attrs:{"data-index":n}}):t._e(),1==i.type?e("div",{staticClass:"list"},t._l(i.answerList,function(i,n){return e("div",{key:n,staticClass:"list-item"},[t._v(t._s(i.userName)+": "+t._s(i.content))])}),0):t._e()])}),0)],1)},a=[],s=e("5176"),o=e.n(s),c=(e("ac6a"),e("7f7f"),e("386d"),e("3079")),r=e("b383"),d=e.n(r),l=e("3ebc"),u={leftMenu:[{id:"1",name:"校区：",placeholder:"请选择校区",module:"schoolId",type:"select"},{id:"2",name:"班级：",placeholder:"请选择班级",module:"classId",type:"select"},{id:"3",name:"带班老师：",placeholder:"请选择带班老师",module:"teacherAccount",type:"select"}],rightMenu:[{id:"r1",name:"查询"},{id:"r3",name:"取消"}]},h={name:"statistic",data:function(){return{dataOption:u,loading:!1,id:"",type:"",name:"",data:""}},components:{Options:c["a"]},mounted:function(){this.init(),this.search(),this.dropInit()},methods:{dropInit:function(){var t=this;Object(l["h"])(function(i){var e=t.dataOption.leftMenu;e=e.map(function(t){return"schoolId"===t.module&&(t.options=i),t}),t.dataOption.leftMenu=e})},init:function(){var t=this.$route.query,i=t.type,e=t.id,n=t.name;this.type=i,this.id=e,this.name=n},optchange:function(t){return console.log(t.id+"--id被单击了"),"r1"===t.id?this.search():"r3"===t.id?this.btnClick():void 0},echartsInit:function(){var t=this,i=document.querySelectorAll(".myChart");this.data.forEach(function(e,n){if(0==e.type){e.answerList.length;var a=[e.item1,e.item2,e.item3,e.item4,e.item5],s=[0,0,0,0,0];e.answerList.forEach(function(t){t.item1&&s[0]++,t.item2&&s[1]++,t.item3&&s[2]++,t.item4&&s[3]++,t.item5&&s[4]++});var o=t.echarts.init(i[n]),c=[];a.forEach(function(t,i){if(t){var e={value:s[i],name:t};c.push(e)}}),o.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}人 ({d}%)"},series:[{name:e.title,type:"pie",radius:"55%",center:["50%","60%"],data:c}]})}e.type})},search:function(){var t=this;this.loading=!0;var i=this.$refs.goodsOpt.getData(),e=o()({},i),n=d.a.stringify(e||{});this.api.get("/survey/".concat(this.id,"/answer?").concat(n)).then(function(i){t.loading=!1,t.data=i.data.questionList,setTimeout(function(){t.echartsInit(i)},20)}).catch(function(i){console.log(i),t.loading=!1,t.$message(i.message)})},btnClick:function(){this.$router.go(-1)},dataInit:function(){}}},p=h,m=(e("2a8b"),e("2877")),f=Object(m["a"])(p,n,a,!1,null,"18624954",null);f.options.__file="statistic.vue";i["default"]=f.exports},"2a8b":function(t,i,e){"use strict";var n=e("3405"),a=e.n(n);a.a},3405:function(t,i,e){}}]);
//# sourceMappingURL=chunk-0c4b471a.855ec8a2.js.map